<!doctype html><html class=no-js lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><title>How to Make AJAX Calls in JavaScript - Coding N Concepts</title><script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script><meta name=description content="Understand how to make AJAX calls in JavaScript using XMLHttpRequest and Fetch API"><meta property="og:title" content="How to Make AJAX Calls in JavaScript"><meta property="og:description" content="Understand how to make AJAX calls in JavaScript using XMLHttpRequest and Fetch API"><meta property="og:type" content="article"><meta property="og:url" content="https://codingnconcepts.com/javascript/how-to-make-ajax-calls-in-javascript/"><meta property="og:image" content="https://codingnconcepts.com/img/logo/js.png"><meta property="article:published_time" content="2020-08-10T00:00:00+00:00"><meta property="article:modified_time" content="2020-10-13T00:00:00+00:00"><meta property="og:site_name" content="CodingNConcepts"><meta property="article:author" content="https://www.facebook.com/codingnconcepts"><meta property="article:publisher" content="https://www.facebook.com/codingnconcepts"><meta property="article:section" content="javascript"><meta property="article:tag" content="Javascript Core"><meta property="fb:admins" content="177784346770196"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://codingnconcepts.com/img/logo/js.png"><meta name=twitter:title content="How to Make AJAX Calls in JavaScript"><meta name=twitter:description content="Understand how to make AJAX calls in JavaScript using XMLHttpRequest and Fetch API"><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700|Rowdies"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico><link rel=canonical href=https://codingnconcepts.com/javascript/how-to-make-ajax-calls-in-javascript/><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-160024498-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","articleSection":"javascript","name":"How to Make AJAX Calls in JavaScript","headline":"How to Make AJAX Calls in JavaScript","alternativeHeadline":null,"description":"Understand how to make AJAX calls in JavaScript using XMLHttpRequest and Fetch API","inLanguage":"en-us","isFamilyFriendly":true,"mainEntityOfPage":{"@type":"WebPage","@id":"https://codingnconcepts.com/javascript/how-to-make-ajax-calls-in-javascript/"},"author":{"@type":"Person","name":"Ashish Lahoti"},"creator":{"@type":"Person","name":"Ashish Lahoti"},"accountablePerson":{"@type":"Person","name":"Ashish Lahoti"},"copyrightHolder":"Coding N Concepts","copyrightYear":"2020","dateCreated":"2020-08-10T00:00:00.00Z","datePublished":"2020-08-10T00:00:00.00Z","dateModified":"2020-10-13T00:00:00.00Z","publisher":{"@type":"Organization","name":"Coding N Concepts","url":"https://codingnconcepts.com/","logo":{"@type":"ImageObject","url":"https://codingnconcepts.com/logo-amp.png","width":600,"height":60}},"image":["https://codingnconcepts.com/img/logo/js.png"],"url":"https://codingnconcepts.com/javascript/how-to-make-ajax-calls-in-javascript/","wordCount":1217,"genre":["Javascript Core"],"keywords":null}</script></head><body class=body><div class="container container--outer"><header class=header><div class=container><div class=logo><a class=logo__link href=/ title="Coding N Concepts" rel=home><div class=logo__title><img src=/favicon-32x32.png alt="How to Make AJAX Calls in JavaScript"> Coding N Concepts</div><div class=logo__tagline>Ashish Lahoti's Technical Blog</div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/tags/popular-posts><span class=menu__text>Popular</span></a></li><li class="menu__item menu__dropdown"><a class=menu__link href=/java/><span class=menu__text>Java</span>
<label class=drop-icon for=Java>▾</label></a>
<input type=checkbox id=Java><ul class=submenu__list><li class=menu__item><a class=menu__link href=/tags/java-core/><span class=menu__text>Core Java</span></a></li><li class=menu__item><a class=menu__link href=/tags/java-collection/><span class=menu__text>Collections</span></a></li><li class=menu__item><a class=menu__link href=/tags/java-design-pattern/><span class=menu__text>Design Patterns</span></a></li><li class=menu__item><a class=menu__link href=/tags/java-recursive/><span class=menu__text>Recursive</span></a></li><li class=menu__item><a class=menu__link href=/tags/java-streams/><span class=menu__text>Streams</span></a></li><li class=menu__item><a class=menu__link href=/tags/java-string/><span class=menu__text>String</span></a></li><li class=menu__item><a class=menu__link href=/tags/java-numbers/><span class=menu__text>Numbers</span></a></li><li class=menu__item><a class=menu__link href=/tags/java-threads/><span class=menu__text>Threads</span></a></li></ul></li><li class="menu__item menu__dropdown"><a class=menu__link href=/javascript/><span class=menu__text>JavaScript</span>
<label class=drop-icon for=JavaScript>▾</label></a>
<input type=checkbox id=JavaScript><ul class=submenu__list><li class=menu__item><a class=menu__link href=/tags/javascript-core/><span class=menu__text>JS Core</span></a></li><li class=menu__item><a class=menu__link href=/tags/javascript-object/><span class=menu__text>JS Object</span></a></li><li class=menu__item><a class=menu__link href=/tags/javascript-string/><span class=menu__text>JS String</span></a></li><li class=menu__item><a class=menu__link href=/tags/javascript-array/><span class=menu__text>JS Array</span></a></li><li class=menu__item><a class=menu__link href=/tags/javascript-console/><span class=menu__text>JS Console</span></a></li><li class=menu__item><a class=menu__link href=/tags/javascript-es6/><span class=menu__text>ES6</span></a></li></ul></li><li class="menu__item menu__dropdown"><a class=menu__link href=/spring-boot/><span class=menu__text>Spring Boot</span>
<label class=drop-icon for="Spring Boot">▾</label></a>
<input type=checkbox id="Spring Boot"><ul class=submenu__list><li class=menu__item><a class=menu__link href=/tags/spring-boot-basics/><span class=menu__text>Spring Boot Basics</span></a></li><li class=menu__item><a class=menu__link href=/tags/spring-boot-rest/><span class=menu__text>Spring Boot REST</span></a></li><li class=menu__item><a class=menu__link href=/tags/spring-boot-kafka/><span class=menu__text>Spring Boot KAFKA</span></a></li></ul></li><li class="menu__item menu__dropdown"><a class=menu__link href=/puzzle/><span class=menu__text>Puzzles</span>
<label class=drop-icon for=Puzzles>▾</label></a>
<input type=checkbox id=Puzzles><ul class=submenu__list><li class=menu__item><a class=menu__link href=/tags/maths-puzzle/><span class=menu__text>Maths Puzzles</span></a></li><li class=menu__item><a class=menu__link href=/tags/weight-puzzle/><span class=menu__text>Weight Puzzles</span></a></li></ul></li><li class="menu__item menu__dropdown"><a class=menu__link href=/interview-questions/><span class=menu__text>Interview Q&A</span>
<label class=drop-icon for="Interview Q&A">▾</label></a>
<input type=checkbox id="Interview Q&A"><ul class=submenu__list><li class=menu__item><a class=menu__link href=/tags/java-qa/><span class=menu__text>Java</span></a></li><li class=menu__item><a class=menu__link href=/tags/javascript-qa/><span class=menu__text>JavaScript</span></a></li><li class=menu__item><a class=menu__link href=/tags/css-qa/><span class=menu__text>CSS</span></a></li><li class=menu__item><a class=menu__link href=/tags/spring-qa/><span class=menu__text>Spring</span></a></li><li class=menu__item><a class=menu__link href=/tags/microservice-qa/><span class=menu__text>Microservices</span></a></li></ul></li><li class=menu__item><a class=menu__link href=/hugo/><span class=menu__text>Hugo</span></a></li><li class=menu__item><a class=menu__link href=/about/><span class=menu__text>About Me</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post autonumbering><header class=post__header><h1 class=post__title><img class=post__thumbnail src=/img/logo/js.png alt="How to Make AJAX Calls in JavaScript"> How to Make AJAX Calls in JavaScript</h1><div class="post__meta meta"><div class="meta__item-author meta__item"><svg class="meta__icon icon icon-author" width="16" height="16" viewBox="0 0 12 16"><path d="M6 1c2.2.0 3.5 2 3.5 4.5C9.5 7 8.9 8.2 8 9c2.9.8 4 2.5 4 5v1H0v-1c0-2.5 1.1-4.2 4-5-.9-.8-1.5-2-1.5-3.5C2.5 3 3.8 1 6 1z"/></svg><span class=meta__text>Ashish Lahoti</span></div><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2020-08-10T00:00:00Z>August 10, 2020</time>
<time class=meta__text datetime=2020-10-13T00:00:00Z>(Last Modified: October 13, 2020)</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg><span class=meta__text><a class=meta__link href=/categories/javascript/ rel=category>Javascript</a></span></div></div></header><div class="post__toc toc"><div class=toc__title>Page content</div><div class=toc__menu><nav id=TableOfContents><ul><li><a href=#ajax>AJAX</a></li><li><a href=#xmlhttprequest>XMLHttpRequest</a><ul><li><a href=#example-get>Example: GET</a></li><li><a href=#example-post>Example: POST</a></li><li><a href=#xmlhttprequest-vs-fetch>XMLHttpRequest vs Fetch</a></li></ul></li><li><a href=#fetch-api>Fetch API</a><ul><li><a href=#api-usage>API Usage</a></li><li><a href=#example-get-1>Example: GET</a></li><li><a href=#example-post-1>Example: POST</a></li></ul></li><li><a href=#axios-api>Axios API</a><ul><li><a href=#example-get-2>Example: GET</a></li><li><a href=#example-post-2>Example: POST</a></li></ul></li></ul></nav></div></div><div class="content post__content clearfix"><p>In this tutorial, we&rsquo;ll learn how to make AJAX calls in JavaScript.</p><h2 id=ajax>AJAX</h2><p>The term <code>AJAX</code> stands for <strong>Asynchronous JavaScript And XML</strong></p><p>The term <code>AJAX</code> is used in JavaScript for making asynchronous network request to fetch resources. Resources are not limited to <em>XML</em>, as the term suggest which is confusing. The term <code>AJAX</code> is also used to fetch resources as <em>JSON, HTML, or Plain Text</em>. You may have heard that term already.</p><p>There are multiple ways to make network request and fetch data from the server. We&rsquo;ll look at them one by one.</p><h2 id=xmlhttprequest>XMLHttpRequest</h2><p>The <code>XMLHttpRequest</code> object (also known as <strong>XHR</strong> in short) is used in older days to retrieve data from the server asynchronously.</p><p>The <code>XML</code> comes in the name because it is first used to retrieve <em>XML</em> data. Now this can also be used to retrieve <em>JSON, HTML or Plain text</em>.</p><h3 id=example-get>Example: GET</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>success</span>() {
    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>data</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>JSON</span>.<span style=color:#a6e22e>parse</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>responseText</span>);
    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>data</span>);
}

<span style=color:#66d9ef>function</span> <span style=color:#a6e22e>error</span>(<span style=color:#a6e22e>err</span>) {
    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;Error Occurred :&#39;</span>, <span style=color:#a6e22e>err</span>);
}

<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>xhr</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>XMLHttpRequest</span>();
<span style=color:#a6e22e>xhr</span>.<span style=color:#a6e22e>onload</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>success</span>;
<span style=color:#a6e22e>xhr</span>.<span style=color:#a6e22e>onerror</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>error</span>;
<span style=color:#a6e22e>xhr</span>.<span style=color:#a6e22e>open</span>(<span style=color:#e6db74>&#34;GET&#34;</span>, <span style=color:#e6db74>&#34;https://jsonplaceholder.typicode.com/posts/1&#34;</span>);
<span style=color:#a6e22e>xhr</span>.<span style=color:#a6e22e>send</span>();
</code></pre></div><p>We see that to make a simple GET request, we need two listeners to handle success and failure of the request. We also need to make calls to <code>open()</code> and <code>send()</code> methods. The response from the server is stored in the <code>responseText</code> variable, which is converted to JavaScript object using <code>JSON.parse()</code>.<br><br></p><h3 id=example-post>Example: POST</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>success</span>() {
    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>data</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>JSON</span>.<span style=color:#a6e22e>parse</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>responseText</span>);
    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>data</span>);
}

<span style=color:#66d9ef>function</span> <span style=color:#a6e22e>error</span>(<span style=color:#a6e22e>err</span>) {
    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;Error Occurred :&#39;</span>, <span style=color:#a6e22e>err</span>);
}

<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>xhr</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>XMLHttpRequest</span>();
<span style=color:#a6e22e>xhr</span>.<span style=color:#a6e22e>onload</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>success</span>;
<span style=color:#a6e22e>xhr</span>.<span style=color:#a6e22e>onerror</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>error</span>;
<span style=color:#a6e22e>xhr</span>.<span style=color:#a6e22e>open</span>(<span style=color:#e6db74>&#34;POST&#34;</span>, <span style=color:#e6db74>&#34;https://jsonplaceholder.typicode.com/posts&#34;</span>);
<span style=color:#a6e22e>xhr</span>.<span style=color:#a6e22e>setRequestHeader</span>(<span style=color:#e6db74>&#34;Content-Type&#34;</span>, <span style=color:#e6db74>&#34;application/json; charset=UTF-8&#34;</span>);
<span style=color:#a6e22e>xhr</span>.<span style=color:#a6e22e>send</span>(<span style=color:#a6e22e>JSON</span>.<span style=color:#a6e22e>stringify</span>({
    <span style=color:#a6e22e>title</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;foo&#39;</span>,
    <span style=color:#a6e22e>body</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;bar&#39;</span>,
    <span style=color:#a6e22e>userId</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>1</span>
  })
);
</code></pre></div><p>We see that POST request is similar to GET request. We need to additionally set the request header &ldquo;Content-Type&rdquo; using <code>setRequestHeader</code> and send the JSON body as string using <code>JSON.stringify</code> in the <code>send</code> method.<br><br></p><h3 id=xmlhttprequest-vs-fetch>XMLHttpRequest vs Fetch</h3><p>We have used <code>XMLHttpRequest</code> for several years to request data. The modern <code>fetch()</code> API allows you to make network requests similar to <code>XMLHttpRequest</code> (XHR). The main difference is that the <code>fetch()</code> API uses Promises, which enables a simpler and cleaner API, avoiding callback hell and having to remember the complex API of <code>XMLHttpRequest</code>.</p><h2 id=fetch-api>Fetch API</h2><p>Fetch is a native JavaScript API to make AJAX calls which is supported by most of the browsers and widely used now a days.</p><h3 id=api-usage>API Usage</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#a6e22e>fetch</span>(<span style=color:#a6e22e>url</span>, <span style=color:#a6e22e>options</span>)
    .<span style=color:#a6e22e>then</span>(<span style=color:#a6e22e>response</span> =&gt; {
        <span style=color:#75715e>// handle response data
</span><span style=color:#75715e></span>    })
    .<span style=color:#66d9ef>catch</span>(<span style=color:#a6e22e>err</span> =&gt; {
        <span style=color:#75715e>// handle errors
</span><span style=color:#75715e></span>    });
</code></pre></div><br><h5 id=api-arguments>API Arguments</h5><p>The <code>fetch()</code> API takes two arguments:</p><ol><li><strong>url</strong> is a mandatory argument, which is a path to the resource you want to fetch.</li><li><strong>options</strong> is an optional argument. You don&rsquo;t need to provide this argument to make simple GET request. You need to pass this argument to provide additional information about the request such as<ul><li><em>method:</em> GET | POST | PUT | DELETE | PATCH</li><li><em>headers:</em> Request Headers Object for e.g. { &ldquo;Content-type&rdquo;: &ldquo;application/json; charset=UTF-8&rdquo; }</li><li><em>mode:</em> cors | no-cors | same-origin | navigate</li><li><em>cache:</em> default | reload | no-cache</li><li><em>body:</em> Request body generally used in POST request<br><br></li></ul></li></ol><h5 id=api-returns-promise-object>API returns Promise Object</h5><p>The <code>fetch()</code> API returns a promise object.</p><ul><li>The promise is rejected if there is a network error, this is handled in the <code>.catch()</code> block.</li><li>The promise is resolved if there is a response from the server with any status code such as 200, 404, 500. Response Object can be handled in the <code>.then()</code> block.<br><br></li></ul><h5 id=error-handling>Error Handling</h5><p>Please note that we expect status code as 200 (OK status) for successful response but <code>fetch()</code> API resolved the promise even if response is coming with error status code such as 404 (Resource Not found) and 500 (Internal Server Error). We need to handle those explicitly in <code>.then()</code> block.</p><p>We can see HTTP-status in <code>response</code> object:</p><ul><li>status – HTTP status code, e.g. 200.</li><li>ok – boolean, true if the HTTP status code is 200-299.<br><br></li></ul><h3 id=example-get-1>Example: GET</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>getTodoItem</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>fetch</span>(<span style=color:#e6db74>&#39;https://jsonplaceholder.typicode.com/todos/1&#39;</span>)
  .<span style=color:#a6e22e>then</span>(<span style=color:#a6e22e>response</span> =&gt; <span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>json</span>())
  .<span style=color:#66d9ef>catch</span>(<span style=color:#a6e22e>err</span> =&gt; <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>error</span>(<span style=color:#a6e22e>err</span>));

<span style=color:#a6e22e>getTodoItem</span>.<span style=color:#a6e22e>then</span>(<span style=color:#a6e22e>response</span> =&gt; <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>response</span>));
</code></pre></div><pre><code><div class=code_output>Response</div>
➤ { userId: 1, id: 1, title: &quot;delectus aut autem&quot;, completed: false }
</code></pre><p>Two things to note in above code:-</p><ol><li><code>fetch</code> API returns a promise object which we can assign to a variable and execute later.</li><li>You have to additionally call <code>response.json()</code> to convert response object to JSON<br><br></li></ol><h5 id=error-handling-1>Error Handling</h5><p>Let&rsquo;s see what happens when HTTP <code>GET</code> request throw 500 error:-</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#a6e22e>fetch</span>(<span style=color:#e6db74>&#39;http://httpstat.us/500&#39;</span>) <span style=color:#75715e>// this API throw 500 error
</span><span style=color:#75715e></span>  .<span style=color:#a6e22e>then</span>(<span style=color:#a6e22e>response</span> =&gt; () =&gt; {
    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;Inside first then block&#34;</span>);
    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>json</span>();
  })
  .<span style=color:#a6e22e>then</span>(<span style=color:#a6e22e>json</span> =&gt; <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;Inside second then block&#34;</span>, <span style=color:#a6e22e>json</span>))
  .<span style=color:#66d9ef>catch</span>(<span style=color:#a6e22e>err</span> =&gt; <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>error</span>(<span style=color:#e6db74>&#34;Inside catch block:&#34;</span>, <span style=color:#a6e22e>err</span>));
</code></pre></div><pre><code>Inside first then block
➤ <span style=color:red>ⓧ Inside catch block: SyntaxError: Unexpected token I in JSON at position 4</span>
</code></pre><p>We see that even though API throw 500 error, It still goes inside first <code>then()</code> block where it&rsquo;s not able to parse error JSON and throw error which is caught by <code>catch()</code> block.</p><p>That means we need to handle such errors explicitly like this if we are using <code>fetch()</code> API:-</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#a6e22e>fetch</span>(<span style=color:#e6db74>&#39;http://httpstat.us/500&#39;</span>)
  .<span style=color:#a6e22e>then</span>(<span style=color:#a6e22e>handleErrors</span>)
  .<span style=color:#a6e22e>then</span>(<span style=color:#a6e22e>response</span> =&gt; <span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>json</span>())
  .<span style=color:#a6e22e>then</span>(<span style=color:#a6e22e>response</span> =&gt; <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>response</span>))
  .<span style=color:#66d9ef>catch</span>(<span style=color:#a6e22e>err</span> =&gt; <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>error</span>(<span style=color:#e6db74>&#34;Inside catch block:&#34;</span>, <span style=color:#a6e22e>err</span>));

<span style=color:#66d9ef>function</span> <span style=color:#a6e22e>handleErrors</span>(<span style=color:#a6e22e>response</span>) {
  <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>ok</span>) { <span style=color:#75715e>// throw error based on custom conditions on response
</span><span style=color:#75715e></span>      <span style=color:#66d9ef>throw</span> Error(<span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>statusText</span>);
  }
  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>response</span>;
}
</code></pre></div><pre><code>➤ <span style=color:red>Inside catch block: Error: Internal Server Error at handleErrors (Script snippet %239:9)</span>
</code></pre><p><br></p><h3 id=example-post-1>Example: POST</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#a6e22e>fetch</span>(<span style=color:#e6db74>&#39;https://jsonplaceholder.typicode.com/todos&#39;</span>, {
    <span style=color:#a6e22e>method</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;POST&#39;</span>,
    <span style=color:#a6e22e>body</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>JSON</span>.<span style=color:#a6e22e>stringify</span>({
      <span style=color:#a6e22e>completed</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
      <span style=color:#a6e22e>title</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;new todo item&#39;</span>,
      <span style=color:#a6e22e>userId</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>1</span>
    }),
    <span style=color:#a6e22e>headers</span><span style=color:#f92672>:</span> {
      <span style=color:#e6db74>&#34;Content-type&#34;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;application/json; charset=UTF-8&#34;</span>
    }
  })
  .<span style=color:#a6e22e>then</span>(<span style=color:#a6e22e>response</span> =&gt; <span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>json</span>())
  .<span style=color:#a6e22e>then</span>(<span style=color:#a6e22e>json</span> =&gt; <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>json</span>))
  .<span style=color:#66d9ef>catch</span>(<span style=color:#a6e22e>err</span> =&gt; <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>err</span>))
</code></pre></div><pre><code><div class=code_output>Response</div>
➤ {completed: true, title: &quot;new todo item&quot;, userId: 1, id: 201}
</code></pre><p>Two things to note in above code:-</p><ol><li><code>POST</code> request is similar to <code>GET</code> request. We need to additionally send the <code>method</code>, <code>body</code> and <code>headers</code> properties in second argument of <code>fetch()</code> API.</li><li>We have to explicitly <code>JSON.stringify()</code> the request <code>body</code> params<br><br></li></ol><h2 id=axios-api>Axios API</h2><p><a href=https://github.com/axios/axios>Axios</a> API is very similar to <code>fetch</code> API with few enhancements. I personally prefer to use <code>Axios</code> API instead of <code>fetch()</code> API due to following reasons:-</p><ol><li>Provides different methods for GET <code>axios.get()</code>, POST <code>axios.post()</code>, &mldr; which makes your code concise</li><li>Consider 299++ response codes such as 404, 500 as errors which can be handled in <code>catch()</code> block so you do not need to handle those errors explicitly</li><li>It provides backward compatibility with old browsers such as IE11</li><li>It returns the response as JSON object so you do not need to do any parsing</li><li>It takes the POST request body as JSON object so you do not need to do any stringify</li></ol><br><h3 id=example-get-2>Example: GET</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#75715e>// way to include script in chrome console
</span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>script</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>createElement</span>(<span style=color:#e6db74>&#39;script&#39;</span>);
<span style=color:#a6e22e>script</span>.<span style=color:#a6e22e>type</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;text/javascript&#39;</span>;
<span style=color:#a6e22e>script</span>.<span style=color:#a6e22e>src</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;https://unpkg.com/axios/dist/axios.min.js&#39;</span>;
document.<span style=color:#a6e22e>head</span>.<span style=color:#a6e22e>appendChild</span>(<span style=color:#a6e22e>script</span>);
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#a6e22e>axios</span>.<span style=color:#a6e22e>get</span>(<span style=color:#e6db74>&#39;https://jsonplaceholder.typicode.com/todos/1&#39;</span>)
  .<span style=color:#a6e22e>then</span>(<span style=color:#a6e22e>response</span> =&gt; <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>data</span>))
  .<span style=color:#66d9ef>catch</span>(<span style=color:#a6e22e>err</span> =&gt; <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>error</span>(<span style=color:#a6e22e>err</span>));
</code></pre></div><pre><code><div class=code_output>Response</div>
{ userId: 1, id: 1, title: &quot;delectus aut autem&quot;, completed: false }
</code></pre><p>We see that we get the response data directly using <code>response.data</code> without any parsing object unlike <code>fetch()</code> API.<br><br></p><h5 id=error-handling-2>Error Handling</h5><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#a6e22e>axios</span>.<span style=color:#a6e22e>get</span>(<span style=color:#e6db74>&#39;http://httpstat.us/500&#39;</span>)
  .<span style=color:#a6e22e>then</span>(<span style=color:#a6e22e>response</span> =&gt; <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>data</span>))
  .<span style=color:#66d9ef>catch</span>(<span style=color:#a6e22e>err</span> =&gt; <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>error</span>(<span style=color:#e6db74>&#34;Inside catch block:&#34;</span>, <span style=color:#a6e22e>err</span>));
</code></pre></div><pre><code>➤ <span style=color:red>Inside catch block: Error: Network Error</span>
</code></pre><p>We see that 500 error is also get caught by <code>catch()</code> block unlike <code>fetch()</code> API where we have to handle them explicitly.<br><br></p><h3 id=example-post-2>Example: POST</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#a6e22e>axios</span>.<span style=color:#a6e22e>post</span>(<span style=color:#e6db74>&#39;https://jsonplaceholder.typicode.com/todos&#39;</span>, {
      <span style=color:#a6e22e>completed</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
      <span style=color:#a6e22e>title</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;new todo item&#39;</span>,
      <span style=color:#a6e22e>userId</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>1</span>
  })
  .<span style=color:#a6e22e>then</span>(<span style=color:#a6e22e>response</span> =&gt; <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>data</span>))
  .<span style=color:#66d9ef>catch</span>(<span style=color:#a6e22e>err</span> =&gt; <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>err</span>))
</code></pre></div><pre><code>➤ {completed: true, title: &quot;new todo item&quot;, userId: 1, id: 201}
</code></pre><p>We see that <code>POST</code> method is very short and concise. You can directly pass the request body parameters unlike <code>fetch()</code> API where we stringify them.</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/javascript-core/ rel=tag>Javascript Core</a></li></ul></div></footer></article></main><section class=social-share><ul class=share-icons><li><a href="https://twitter.com/intent/tweet?hashtags=codingnconcepts&url=https%3a%2f%2fcodingnconcepts.com%2fjavascript%2fhow-to-make-ajax-calls-in-javascript%2f&text=How%20to%20Make%20AJAX%20Calls%20in%20JavaScript" target=_blank rel=noopener aria-label="Share on Twitter" class="share-btn twitter"><svg class="widget-social__link-icon icon icon-twitter" width="24" height="24" viewBox="0 0 384 312"><path d="m384 36.9c-14.1 6.3-29.3 10.5-45.2 12.4 16.3-9.7 28.8-25.2 34.6-43.6-15.2 9-32.1 15.6-50 19.1-14.4-15.2-34.9-24.8-57.5-24.8-43.5.0-78.8 35.3-78.8 78.8.0 6.2.7 12.2 2 17.9-65.5-3.3-123.5-34.6-162.4-82.3-6.7 11.6-10.6 25.2-10.6 39.6.0 27.3 13.9 51.4 35 65.6-12.9-.4-25.1-4-35.7-9.9v1c0 38.2 27.2 70 63.2 77.2-6.6 1.8-13.6 2.8-20.8 2.8-5.1.0-10-.5-14.8-1.4 10 31.3 39.1 54.1 73.6 54.7-27 21.1-60.9 33.7-97.8 33.7-6.4.0-12.6-.4-18.8-1.1 34.9 22.4 76.3 35.4 120.8 35.4 144.9.0 224.1-120 224.1-224.1.0-3.4-.1-6.8-.2-10.2 15.4-11.1 28.7-25 39.3-40.8z"/></svg><p>Twitter</p></a></li><li><a href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fcodingnconcepts.com%2fjavascript%2fhow-to-make-ajax-calls-in-javascript%2f" target=_blank rel=noopener aria-label="Share on Facebook" class="share-btn facebook"><svg class="widget-social__link-icon icon icon-facebook" width="24" height="24" viewBox="0 0 352 352"><path d="m0 32v288c0 17.5 14.5 32 32 32h288c17.5.0 32-14.5 32-32V32c0-17.5-14.5-32-32-32H32C14.5.0.0 14.5.0 32zm320 0v288h-83V212h41.5l6-48H237v-31c0-14 3.5-23.5 23.5-23.5h26V66c-4.4-.6-19.8-1.5-37.5-1.5-36.9.0-62 22.2-62 63.5v36h-42v48h42v108H32V32z"/></svg><p>Facebook</p></a></li><li><a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fcodingnconcepts.com%2fjavascript%2fhow-to-make-ajax-calls-in-javascript%2f&source=https%3a%2f%2fcodingnconcepts.com%2fjavascript%2fhow-to-make-ajax-calls-in-javascript%2f&title=How%20to%20Make%20AJAX%20Calls%20in%20JavaScript&summary=How%20to%20Make%20AJAX%20Calls%20in%20JavaScript" target=_blank rel=noopener aria-label="Share on LinkedIn" class="share-btn linkedin"><svg class="widget-social__link-icon icon icon-linkedin" width="24" height="24" viewBox="0 0 352 352"><path d="M0 40v272c0 21.9 18.1 40 40 40h272c21.9.0 40-18.1 40-40V40c0-21.9-18.1-40-40-40H40C18.1.0.0 18.1.0 40zm312-8c4.6.0 8 3.4 8 8v272c0 4.6-3.4 8-8 8H40c-4.6.0-8-3.4-8-8V40c0-4.6 3.4-8 8-8H312zM59.5 87c0 15.2 12.3 27.5 27.5 27.5s27.5-12.3 27.5-27.5S102.2 59.5 87 59.5 59.5 71.8 59.5 87zM187 157h-1v-21h-45v152h47v-75c0-19.8 3.9-39 28.5-39 24.2.0 24.5 22.4 24.5 40v74h47v-83.5c0-40.9-8.7-72-56.5-72C208.5 132.5 193.3 145.1 187 157zM64 288h47.5V136H64V288z"/></svg><p>LinkedIn</p></a></li><li><a href="whatsapp://send?text=How%20to%20Make%20AJAX%20Calls%20in%20JavaScript%2c%20by%20Coding%20N%20Concepts%0aUnderstand%20how%20to%20make%20AJAX%20calls%20in%20JavaScript%20using%20XMLHttpRequest%20and%20Fetch%20API%0a%0ahttps%3a%2f%2fcodingnconcepts.com%2fjavascript%2fhow-to-make-ajax-calls-in-javascript%2f%0a" target=_blank class="share-btn whatsapp"><svg class="widget-social__link-icon icon icon-whatsapp" width="24" height="24" viewBox="0 0 24 24"><path d="M20.1 3.9C17.9 1.7 15 .5 12 .5 5.8.5.7 5.6.7 11.9c0 2 .5 3.9 1.5 5.6L.6 23.4l6-1.6c1.6.9 3.5 1.3 5.4 1.3 6.3.0 11.4-5.1 11.4-11.4-.1-2.8-1.2-5.7-3.3-7.8zM12 21.4c-1.7.0-3.3-.5-4.8-1.3l-.4-.2-3.5 1 1-3.4L4 17c-1-1.5-1.4-3.2-1.4-5.1.0-5.2 4.2-9.4 9.4-9.4 2.5.0 4.9 1 6.7 2.8s2.8 4.2 2.8 6.7c-.1 5.2-4.3 9.4-9.5 9.4zm5.1-7.1c-.3-.1-1.7-.9-1.9-1-.3-.1-.5-.1-.7.1-.2.3-.8 1-.9 1.1-.2.2-.3.2-.6.1s-1.2-.5-2.3-1.4c-.9-.8-1.4-1.7-1.6-2s0-.5.1-.6.3-.3.4-.5c.2-.1.3-.3.4-.5s0-.4.0-.5C10 9 9.3 7.6 9 7c-.1-.4-.4-.3-.5-.3h-.6s-.4.1-.7.3c-.3.3-1 1-1 2.4s1 2.8 1.1 3c.1.2 2 3.1 4.9 4.3.7.3 1.2.5 1.6.6.7.2 1.3.2 1.8.1.6-.1 1.7-.7 1.9-1.3.2-.7.2-1.2.2-1.3-.1-.3-.3-.4-.6-.5z"/></svg><p>Email</p></a></li><li><a href="mailto:?subject=Coding%20N%20Concepts - How%20to%20Make%20AJAX%20Calls%20in%20JavaScript.&body=How%20to%20Make%20AJAX%20Calls%20in%20JavaScript%2c%20by%20Coding%20N%20Concepts%0aUnderstand%20how%20to%20make%20AJAX%20calls%20in%20JavaScript%20using%20XMLHttpRequest%20and%20Fetch%20API%0a%0ahttps%3a%2f%2fcodingnconcepts.com%2fjavascript%2fhow-to-make-ajax-calls-in-javascript%2f%0a" target=_blank class="share-btn email"><svg class="widget-social__link-icon icon icon-mail" width="24" height="24" viewBox="0 0 416 288"><path d="m0 16v256 16h16 384 16v-16V16 0h-16H16 0zm347 16-139 92.5L69 32zM199 157.5l9 5.5 9-5.5L384 46v210H32V46z"/></svg><p>Email</p></a></li></ul></section><div class=related_post_section><h2 class=related_post_title>See Also</h2><ul class=related_post><li><a href=/javascript/error-handling-in-javascript/>Error Handling in JavaScript</a></li><li><a href=/javascript/math-constants-and-functions-in-javascript/>Math Constants and Functions in JavaScript</a></li><li><a href=/javascript/comparison-operators-in-javascript/>Difference in == and === comparison operators in JavaScript</a></li><li><a href=/javascript/this-keyword-in-javascript/>Understand all about this keyword in JavaScript</a></li><li><a href=/javascript/call-vs-bind-vs-apply/>Understand call, bind and apply methods in JavaScript</a></li></ul></div><div class="authorbox clearfix"><figure class=authorbox__avatar><img alt="Ashish Lahoti avatar" src=/media/authors/ashishlahoti.png class=avatar height=90 width=90></figure><div class=authorbox__header><span class=authorbox__name>About Ashish Lahoti</span></div><div class=authorbox__description>Ashish Lahoti is a senior application developer at DBS Bank having 10+ years of experience in full stack technologies | Confluent Certified Developer for Apache KAFKA | SCJP Certified</div></div><nav class="post-nav flex"><div class="post-nav__item post-nav__item--prev"><a class=post-nav__link href=/javascript/error-handling-in-javascript/ rel=prev><span class=post-nav__caption>«&#8201;Previous</span><p class=post-nav__post-title>Error Handling in JavaScript</p></a></div><div class="post-nav__item post-nav__item--next"><a class=post-nav__link href=/javascript/inspect-overlay-elements-chrome-devtools/ rel=next><span class=post-nav__caption>Next&#8201;»</span><p class=post-nav__post-title>Inspect Overlay Elements using Chrome DevTools</p></a></div></nav><section class=comments><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return;}
var d=document,s=d.createElement('script');s.async=true;s.src='//'+"codingnconcepts"+'.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></section></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2020 CodingNConcepts.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>