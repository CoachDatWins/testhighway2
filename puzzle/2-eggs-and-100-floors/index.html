<!DOCTYPE html>
<html class="no-js" lang="en-us">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>2 Eggs and 100 Floors Problem - Coding N Concepts</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="2 Eggs and 100 Floors Problem">
	<meta property="og:title" content="2 Eggs and 100 Floors Problem" />
<meta property="og:description" content="2 Eggs and 100 Floors Problem" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://codingnconcepts.com/puzzle/2-eggs-and-100-floors/" />
<meta property="article:published_time" content="2020-03-14T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-03-14T00:00:00+00:00" />

	<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="2 Eggs and 100 Floors Problem"/>
<meta name="twitter:description" content="2 Eggs and 100 Floors Problem"/>

	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">
	<link rel="stylesheet" href="/css/style.css">
	<link rel="stylesheet" href="/css/custom.css">
	<link rel="shortcut icon" href="/favicon.ico">
		
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-160024498-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container">
		<div class="logo">
			<a class="logo__link" href="/" title="Coding N Concepts" rel="home">
				<div class="logo__title"><img src="/favicon-32x32.png" alt="2 Eggs and 100 Floors Problem"> Coding N Concepts</div>
				<div class="logo__tagline">Ashish Lahoti&#39;s Technical Blog</div>
			</a>
		</div>
		
<nav class="menu">
	<button class="menu__btn" aria-haspopup="true" aria-expanded="false" tabindex="0">
		<span class="menu__btn-title" tabindex="-1">Menu</span>
	</button>
	<ul class="menu__list">
		<li class="menu__item">
			<a class="menu__link" href="/">
				
				<span class="menu__text">Home</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/categories/spring-boot/">
				
				<span class="menu__text">Spring Boot</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/categories/interview-questions/">
				
				<span class="menu__text">Interview Questions</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/categories/kafka/">
				
				<span class="menu__text">Kafka</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/categories/java-programs/">
				
				<span class="menu__text">Java</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/categories/puzzles/">
				
				<span class="menu__text">Puzzles</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/about/">
				
				<span class="menu__text">About Me</span>
				
			</a>
		</li>
	</ul>
</nav>

	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">2 Eggs and 100 Floors Problem</h1>
			<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg>
	<time class="meta__text" datetime="2020-03-14T00:00:00Z">March 14, 2020</time>
</div>

<div class="meta__item-categories meta__item">
	<svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2l1 2h8v11h-16v-13z"/></svg>
	<span class="meta__text"><a class="meta__link" href="/categories/puzzles/" rel="category">Puzzles</a>
	</span>
</div></div>
		</header>
		<figure class="post__thumbnail">
			<img src="/img/puzzle/2-eggs-100-floors.png" alt="2 Eggs and 100 Floors Problem">
		</figure><div class="content post__content clearfix">
			<p>This problem is frequently asked in interview to evaluate candidate&rsquo;s understanding on linear search and binary search. I have tried to explain this problem as easy as possible.</p>
<blockquote>
<p>There is a building of 100 floors. One of the floors is the highest floor (say Nth floor) an egg can be dropped from without breaking.</p>
<ul>
<li>If an egg is dropped from that floor (N) or above (N+1, N+2, &hellip;), it will break.</li>
<li>If it is dropped from any floor below (N-1, N-2, &hellip;), it will not break and you can drop the egg again.</li>
</ul>
<p>Given two eggs, find the floor (N) an egg can be dropped from without breaking in <strong>minimum number of drops</strong>.</p>
</blockquote>
<p>The question is: What strategy should you adopt to minimize the number egg drops it takes to find the solution?. (And what is the worst case for the number of drops it will take?)</p>
<p>Think about the problem for a few minutes, and then read on.</p>
<h3 id="solution-1-liner-search">Solution 1 (Liner Search)</h3>
<p>First solution is linear search strategy which is very straightforward if we don&rsquo;t care about number of drops. We can start dropping egg from floor 1, floor 2, floor 3 and continue till floor 100 until we find the floor N. In worst case it will take 100 drops if egg breaks only at the last (100th) floor.</p>
<pre><code>    Linear search - worst case - 100 drops
</code></pre>
<p>Can we improve worst case using binary search strategy? Lets see in <strong>Solution 2</strong>.</p>
<h3 id="solution-2-binary-search">Solution 2 (Binary Search)</h3>
<p>Second solution is binary search strategy where we start from the middle (50th) floor.</p>
<ul>
<li>If egg breaks on 50th floor that means our N is below 50.</li>
<li>If egg doesn&rsquo;t break that means our N is above 50.</li>
</ul>
<p>Binary search strategy say that If egg breaks on 50th floor then we should check now from 25th floor but wait, we have a problem here. We have already lost 1 egg and left with only 1 egg now so we are left with linear search only but in this case only from 1st to 50th floor in worst case. So our drops came down to half compare to solution 1</p>
<pre><code>    Binary Search - worst case - 50 drops
</code></pre>
<p>Can we still improve the worst case? Let see in <strong>Solution 3</strong></p>
<h3 id="solution-3-divide-and-conquer">Solution 3 (Divide and Conquer)</h3>
<p>Let&rsquo;s apply our learning from previous solutions and apply a mix of linear and binary approach.</p>
<p>This time we start off by dropping an egg at floor 10, floor 20, floor 30 &hellip;increasing floor by 10</p>
<ul>
<li>
<p>If first egg breaks at floor 10, then we use second egg to linear search from 1 to 9</p>
</li>
<li>
<p>If first egg breaks at floor 20, then we use second egg to linear search from 11 to 19</p>
</li>
<li>
<p>&hellip;.</p>
</li>
<li>
<p>In worst case if egg breaks at last (100th) floor then we use second egg to linear search from 91 to 99. In worst case it will take 19 drops (10th, 20th, 30th &hellip;&hellip; 70th 80th 90th 91th &hellip;.99th)</p>
<pre><code>  Divide and Conquer - worst case - 19 drops
</code></pre>
</li>
</ul>
<p>Now when we came to an understanding, lets see <strong>Solution 4</strong></p>
<h3 id="solution-4-equation">Solution 4 (Equation)</h3>
<p>What we need is a solution that minimizes our maximum drops. The solution above hint towards what we need is a strategy that tries to make solutions to all possible answers the same depth (same number of drops). The way to reduce the worst case is to attempt to make all cases take the same number of drops.</p>
<p>As I hope you can see by now, if the solution lays somewhere in a floor low down, then we have extra-headroom when we need to step by singles, but, as we get higher up the building, we’ve already used drop chances to get there, so there we have less drops left when we have to switch to going floor-by-floor.</p>
<p>Let’s break out some algebra.</p>
<p>Imagine we drop our first egg from floor <strong>n</strong>, if it breaks, we can step through the previous <strong>(n-1)</strong> floors one-by-one.</p>
<p>If it doesn’t break, rather than jumping up another <strong>n</strong> floors, instead we should step up just <strong>(n-1)</strong> floors (because we have one less drop available if we have to switch to one-by-one floors), so the next floor we should try is floor <strong>n + (n-1)</strong></p>
<p>Similarly, if this drop does not break, we next need to jump up to floor <strong>n + (n-1) + (n-2)</strong>, then floor <strong>n + (n-1) + (n-2) + (n-3) …</strong></p>
<p>We keep reducing the step by one each time we jump up, until that step-up is just one floor, and get the following equation for a 100 floor building:</p>
<p><strong>n + (n-1) + (n-2) + (n-3) + (n-4) + … + 1  &gt;=  100</strong></p>
<p>This summation, as many will recognize, is the formula for triangular numbers (which kind of makes sense, since we’re reducing the step by one each drop we make) and can be simplified to:</p>
<p><strong>n (n+1) / 2  &gt;=  100</strong></p>
<p>This is a quadratic equation, with the positive root of 13.651 (Which we have to round up to 14)</p>
<p>This means we want to start dropping from floor 14, jump up 13 floors to drop from floor 27, jump up 12 floors to drop from floor 39, and so on. <strong>Our worst case scenario is then a drop count total of 14.</strong></p>
<pre><code>    Equation - worst case - 14 drops
</code></pre>
<table>
<thead>
<tr>
<th align="left">Drop</th>
<th align="left">Floor</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">#1</td>
<td align="left">14</td>
</tr>
<tr>
<td align="left">#2</td>
<td align="left">27</td>
</tr>
<tr>
<td align="left">#3</td>
<td align="left">39</td>
</tr>
<tr>
<td align="left">#4</td>
<td align="left">60</td>
</tr>
<tr>
<td align="left">#6</td>
<td align="left">69</td>
</tr>
<tr>
<td align="left">#7</td>
<td align="left">77</td>
</tr>
<tr>
<td align="left">#8</td>
<td align="left">84</td>
</tr>
<tr>
<td align="left">#9</td>
<td align="left">90</td>
</tr>
<tr>
<td align="left">#10</td>
<td align="left">95</td>
</tr>
<tr>
<td align="left">#11</td>
<td align="left">99</td>
</tr>
<tr>
<td align="left">#12</td>
<td align="left">100</td>
</tr>
</tbody>
</table>
		</div>
		<footer class="post__footer">
			
<div class="post__tags tags clearfix">
	<svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5 0 11V3C0 1.5.8.8.8.8S1.5 0 3 0h8c1.5 0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></svg>
	<ul class="tags__list">
		<li class="tags__item"><a class="tags__link btn" href="/tags/interview/" rel="tag">Interview</a></li>
		<li class="tags__item"><a class="tags__link btn" href="/tags/google/" rel="tag">Google</a></li>
		<li class="tags__item"><a class="tags__link btn" href="/tags/interview-questions/" rel="tag">Interview Questions</a></li>
		<li class="tags__item"><a class="tags__link btn" href="/tags/algorithm/" rel="tag">Algorithm</a></li>
	</ul>
</div>
		</footer>
	</article>
</main>

<div class="authorbox clearfix">
	<figure class="authorbox__avatar">
		<img alt="Ashish Lahoti avatar" src="/img/avatar.png" class="avatar" height="90" width="90">
	</figure>
	<div class="authorbox__header">
		<span class="authorbox__name">About Ashish Lahoti</span>
	</div>
	<div class="authorbox__description">
		Ashish Lahoti is a full stack application developer at DBS Bank | Confluent Certified Developer for Apache KAFKA | SCJP Certified
	</div>
</div>

<nav class="post-nav flex">
	<div class="post-nav__item post-nav__item--prev">
		<a class="post-nav__link" href="/puzzle/25-horses-puzzle/" rel="prev"><span class="post-nav__caption">«&thinsp;Previous</span><p class="post-nav__post-title">25 Horses Puzzle</p></a>
	</div>
	<div class="post-nav__item post-nav__item--next">
		<a class="post-nav__link" href="/puzzle/the-water-jug-riddle/" rel="next"><span class="post-nav__caption">Next&thinsp;»</span><p class="post-nav__post-title">The Water Jug Riddle from Die Hard Movie</p></a>
	</div>
</nav>

<section class="comments">
	<div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "codingnconcepts" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2020 Ashish Lahoti.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
	</div>
<script async defer src="/js/menu.js"></script>
<script src="/js/custom.js"></script></body>
</html>